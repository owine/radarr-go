// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: movies.sql

package mysql

import (
	"context"
	"database/sql"
	"time"
)

const countMonitoredMovies = `-- name: CountMonitoredMovies :one
SELECT COUNT(*) FROM movies WHERE monitored = true
`

func (q *Queries) CountMonitoredMovies(ctx context.Context) (int64, error) {
	row := q.queryRow(ctx, q.countMonitoredMoviesStmt, countMonitoredMovies)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countMovies = `-- name: CountMovies :one
SELECT COUNT(*) FROM movies
`

func (q *Queries) CountMovies(ctx context.Context) (int64, error) {
	row := q.queryRow(ctx, q.countMoviesStmt, countMovies)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createMovie = `-- name: CreateMovie :execresult
INSERT INTO movies (
    tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file, folder_name
) VALUES (
    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?
)
`

type CreateMovieParams struct {
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
}

func (q *Queries) CreateMovie(ctx context.Context, arg CreateMovieParams) (sql.Result, error) {
	return q.exec(ctx, q.createMovieStmt, createMovie,
		arg.TmdbID,
		arg.ImdbID,
		arg.Title,
		arg.SortTitle,
		arg.Year,
		arg.Runtime,
		arg.Overview,
		arg.Path,
		arg.QualityProfileID,
		arg.Monitored,
		arg.Status,
		arg.HasFile,
		arg.FolderName,
	)
}

const deleteMovie = `-- name: DeleteMovie :exec
DELETE FROM movies WHERE id = ?
`

func (q *Queries) DeleteMovie(ctx context.Context, id int32) error {
	_, err := q.exec(ctx, q.deleteMovieStmt, deleteMovie, id)
	return err
}

const getAllMovies = `-- name: GetAllMovies :many
SELECT
    id, tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file,
    added, folder_name, created_at, updated_at
FROM movies
ORDER BY sort_title
`

type GetAllMoviesRow struct {
	ID               int32          `db:"id" json:"id"`
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	Added            sql.NullTime   `db:"added" json:"added"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	CreatedAt        time.Time      `db:"created_at" json:"created_at"`
	UpdatedAt        time.Time      `db:"updated_at" json:"updated_at"`
}

func (q *Queries) GetAllMovies(ctx context.Context) ([]GetAllMoviesRow, error) {
	rows, err := q.query(ctx, q.getAllMoviesStmt, getAllMovies)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetAllMoviesRow{}
	for rows.Next() {
		var i GetAllMoviesRow
		if err := rows.Scan(
			&i.ID,
			&i.TmdbID,
			&i.ImdbID,
			&i.Title,
			&i.SortTitle,
			&i.Year,
			&i.Runtime,
			&i.Overview,
			&i.Path,
			&i.QualityProfileID,
			&i.Monitored,
			&i.Status,
			&i.HasFile,
			&i.Added,
			&i.FolderName,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getMonitoredMovies = `-- name: GetMonitoredMovies :many
SELECT
    id, tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file,
    added, folder_name, created_at, updated_at
FROM movies
WHERE monitored = true
ORDER BY sort_title
`

type GetMonitoredMoviesRow struct {
	ID               int32          `db:"id" json:"id"`
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	Added            sql.NullTime   `db:"added" json:"added"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	CreatedAt        time.Time      `db:"created_at" json:"created_at"`
	UpdatedAt        time.Time      `db:"updated_at" json:"updated_at"`
}

func (q *Queries) GetMonitoredMovies(ctx context.Context) ([]GetMonitoredMoviesRow, error) {
	rows, err := q.query(ctx, q.getMonitoredMoviesStmt, getMonitoredMovies)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetMonitoredMoviesRow{}
	for rows.Next() {
		var i GetMonitoredMoviesRow
		if err := rows.Scan(
			&i.ID,
			&i.TmdbID,
			&i.ImdbID,
			&i.Title,
			&i.SortTitle,
			&i.Year,
			&i.Runtime,
			&i.Overview,
			&i.Path,
			&i.QualityProfileID,
			&i.Monitored,
			&i.Status,
			&i.HasFile,
			&i.Added,
			&i.FolderName,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getMovieByID = `-- name: GetMovieByID :one
SELECT
    id, tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file,
    added, folder_name, created_at, updated_at
FROM movies
WHERE id = ?
`

type GetMovieByIDRow struct {
	ID               int32          `db:"id" json:"id"`
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	Added            sql.NullTime   `db:"added" json:"added"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	CreatedAt        time.Time      `db:"created_at" json:"created_at"`
	UpdatedAt        time.Time      `db:"updated_at" json:"updated_at"`
}

func (q *Queries) GetMovieByID(ctx context.Context, id int32) (GetMovieByIDRow, error) {
	row := q.queryRow(ctx, q.getMovieByIDStmt, getMovieByID, id)
	var i GetMovieByIDRow
	err := row.Scan(
		&i.ID,
		&i.TmdbID,
		&i.ImdbID,
		&i.Title,
		&i.SortTitle,
		&i.Year,
		&i.Runtime,
		&i.Overview,
		&i.Path,
		&i.QualityProfileID,
		&i.Monitored,
		&i.Status,
		&i.HasFile,
		&i.Added,
		&i.FolderName,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getMoviesByQualityProfile = `-- name: GetMoviesByQualityProfile :many
SELECT
    id, tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file,
    added, folder_name, created_at, updated_at
FROM movies
WHERE quality_profile_id = ?
ORDER BY sort_title
`

type GetMoviesByQualityProfileRow struct {
	ID               int32          `db:"id" json:"id"`
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	Added            sql.NullTime   `db:"added" json:"added"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	CreatedAt        time.Time      `db:"created_at" json:"created_at"`
	UpdatedAt        time.Time      `db:"updated_at" json:"updated_at"`
}

func (q *Queries) GetMoviesByQualityProfile(ctx context.Context, qualityProfileID int32) ([]GetMoviesByQualityProfileRow, error) {
	rows, err := q.query(ctx, q.getMoviesByQualityProfileStmt, getMoviesByQualityProfile, qualityProfileID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetMoviesByQualityProfileRow{}
	for rows.Next() {
		var i GetMoviesByQualityProfileRow
		if err := rows.Scan(
			&i.ID,
			&i.TmdbID,
			&i.ImdbID,
			&i.Title,
			&i.SortTitle,
			&i.Year,
			&i.Runtime,
			&i.Overview,
			&i.Path,
			&i.QualityProfileID,
			&i.Monitored,
			&i.Status,
			&i.HasFile,
			&i.Added,
			&i.FolderName,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getMoviesWithFiles = `-- name: GetMoviesWithFiles :many
SELECT
    id, tmdb_id, imdb_id, title, sort_title,
    year, runtime, overview, path, quality_profile_id,
    monitored, status, has_file,
    added, folder_name, created_at, updated_at
FROM movies
WHERE has_file = true
ORDER BY sort_title
`

type GetMoviesWithFilesRow struct {
	ID               int32          `db:"id" json:"id"`
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	Added            sql.NullTime   `db:"added" json:"added"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	CreatedAt        time.Time      `db:"created_at" json:"created_at"`
	UpdatedAt        time.Time      `db:"updated_at" json:"updated_at"`
}

func (q *Queries) GetMoviesWithFiles(ctx context.Context) ([]GetMoviesWithFilesRow, error) {
	rows, err := q.query(ctx, q.getMoviesWithFilesStmt, getMoviesWithFiles)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetMoviesWithFilesRow{}
	for rows.Next() {
		var i GetMoviesWithFilesRow
		if err := rows.Scan(
			&i.ID,
			&i.TmdbID,
			&i.ImdbID,
			&i.Title,
			&i.SortTitle,
			&i.Year,
			&i.Runtime,
			&i.Overview,
			&i.Path,
			&i.QualityProfileID,
			&i.Monitored,
			&i.Status,
			&i.HasFile,
			&i.Added,
			&i.FolderName,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateMovie = `-- name: UpdateMovie :exec
UPDATE movies SET
    tmdb_id = ?,
    imdb_id = ?,
    title = ?,
    sort_title = ?,
    year = ?,
    runtime = ?,
    overview = ?,
    path = ?,
    quality_profile_id = ?,
    monitored = ?,
    status = ?,
    has_file = ?,
    folder_name = ?,
    updated_at = NOW()
WHERE id = ?
`

type UpdateMovieParams struct {
	TmdbID           int32          `db:"tmdb_id" json:"tmdb_id"`
	ImdbID           sql.NullString `db:"imdb_id" json:"imdb_id"`
	Title            string         `db:"title" json:"title"`
	SortTitle        sql.NullString `db:"sort_title" json:"sort_title"`
	Year             sql.NullInt32  `db:"year" json:"year"`
	Runtime          sql.NullInt32  `db:"runtime" json:"runtime"`
	Overview         sql.NullString `db:"overview" json:"overview"`
	Path             sql.NullString `db:"path" json:"path"`
	QualityProfileID int32          `db:"quality_profile_id" json:"quality_profile_id"`
	Monitored        sql.NullBool   `db:"monitored" json:"monitored"`
	Status           sql.NullString `db:"status" json:"status"`
	HasFile          sql.NullBool   `db:"has_file" json:"has_file"`
	FolderName       sql.NullString `db:"folder_name" json:"folder_name"`
	ID               int32          `db:"id" json:"id"`
}

func (q *Queries) UpdateMovie(ctx context.Context, arg UpdateMovieParams) error {
	_, err := q.exec(ctx, q.updateMovieStmt, updateMovie,
		arg.TmdbID,
		arg.ImdbID,
		arg.Title,
		arg.SortTitle,
		arg.Year,
		arg.Runtime,
		arg.Overview,
		arg.Path,
		arg.QualityProfileID,
		arg.Monitored,
		arg.Status,
		arg.HasFile,
		arg.FolderName,
		arg.ID,
	)
	return err
}
